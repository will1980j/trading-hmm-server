<!DOCTYPE html>
<html>
<head>
    <title>Test Target Field</title>
</head>
<body>
    <h1>Target Field Test</h1>
    <p>Enter a target value and click Add to test if it saves:</p>
    
    <input type="number" id="targetTest" placeholder="2.5" step="0.1">
    <button onclick="testTarget()">Add Test Trade</button>
    
    <div id="result"></div>
    
    <script>
        async function testTarget() {
            const targetValue = parseFloat(document.getElementById('targetTest').value) || 0;
            
            try {
                const response = await fetch('https://web-production-cd33.up.railway.app/api/signal-lab-trades', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        date: '2024-12-19',
                        time: '10:00',
                        bias: 'Bullish',
                        session: 'Test',
                        target_r_score: targetValue,
                        mfe_none: 0,
                        be1_level: 1,
                        be1_hit: false,
                        mfe1: 0,
                        news_proximity: 'None',
                        news_event: 'None'
                    })
                });
                
                if (response.ok) {
                    const result = await response.json();
                    document.getElementById('result').innerHTML = `✅ SUCCESS: Trade added with ID ${result.id} and target ${targetValue}R`;
                } else {
                    const error = await response.text();
                    document.getElementById('result').innerHTML = `❌ FAILED: ${response.status} - ${error}`;
                }
            } catch (error) {
                document.getElementById('result').innerHTML = `❌ ERROR: ${error.message}`;
            }
        }
    </script>
</body>
</html>