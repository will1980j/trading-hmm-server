# ============================================================================
# UNIFIED ROADMAP V3 - DATABENTO-FIRST TRADING RESEARCH & EXECUTION PLATFORM
# ============================================================================
# Version: 3.0.2
# Last Updated: 2025-01-02
# Current Focus: Phase C (Historical Signal Generation)
# ============================================================================

roadmap_version: "3.0.2"
created_date: "2025-12-25"
last_updated: "2025-01-02"
current_focus_phase: "P2"
current_focus_name: "Phase C — Historical Signal Generation (NEXT)"

# ============================================================================
# SOURCE OF TRUTH
# ============================================================================
source_of_truth:
  market_data: "Databento"
  symbol: "NQ (NASDAQ-100 E-mini)"
  date_range: "2010-2025 (15 years)"
  total_bars: "~5.25M 1-minute bars"
  historical_ohlcv: "databento_ohlcv_1m table"
  tradingview_role: "VISUAL ONLY - not data source"
  signal_generation: "Python indicator parity (Databento-native)"

# ============================================================================
# CURRENT DATA STATE
# ============================================================================
current_data_state:
  databento_ohlcv_1m:
    status: "INGESTED"
    symbol: "NQ"
    date_range: "2010-01-01 to 2025-12-31"
    row_count: 5250000
    granularity: "1-minute"

# ============================================================================
# UI/UX PRINCIPLES
# ============================================================================
ui_ux_principles:
  video_backgrounds:
    policy: "Remove or replace with static/lightweight assets"
    rationale: "Dashboards must prioritize clarity and performance over aesthetics"
    affected_pages: ["Homepage", "Login"]
    action: "Replace with optimized static gradients"
  performance:
    page_load_target: "<2 seconds"
    optimization_focus: ["Minimize heavy visual effects", "Optimize asset loading", "Reduce bundle size"]
  clarity:
    requirements: ["Clear visual hierarchy", "Standardized table spacing", "Explicit system state cues"]

# ============================================================================
# FEATURE FLAGS (CORRECTED TO REFLECT REALITY)
# ============================================================================
feature_flags:
  # Phase A-B: Foundation
  FEATURE_DATABENTO_HISTORICAL: "ON"
  FEATURE_PYTHON_INDICATORS: "ON"
  
  # Phase C: Historical Signals (IN PROGRESS)
  FEATURE_AUTOMATED_SIGNALS_HISTORICAL: "ON"
  FEATURE_HISTORICAL_BACKFILL: "ON"
  
  # Phase D: Quality & Expectancy
  FEATURE_DATA_QUALITY_MONITORING: "ON"
  FEATURE_SIGNAL_VALIDATION: "ON"
  
  # Phase E: Temporal Intelligence
  FEATURE_TEMPORAL_ANALYTICS: "ON"
  FEATURE_SESSION_ANALYSIS: "ON"
  
  # Phase E.5-J: Not Yet Enabled
  FEATURE_UX_POLISH: "OFF"
  FEATURE_STRATEGY_CONSTRUCTION: "OFF"
  FEATURE_BACKTESTING: "OFF"
  FEATURE_LIVE_MARKET_DATA: "OFF"
  FEATURE_LIVE_SIGNALS: "OFF"
  FEATURE_EXECUTION: "OFF"
  FEATURE_COPY_TRADING: "OFF"
  FEATURE_ML_TRAINING: "OFF"

# ============================================================================
# PHASES (A-J MAPPING)
# ============================================================================
phases:

  # ==========================================================================
  # PHASE A: MARKET TRUTH & DETERMINISM
  # ==========================================================================
  - phase_id: "PA"
    name: "Phase A — Market Truth & Determinism"
    objective: "Establish Databento as single source of truth for all market data"
    status: "COMPLETE"
    deliverables:
      - "Databento OHLCV ingested (NQ 2010-2025, ~5.25M bars)"
      - "Deterministic 1m bars with locked timestamp semantics"
      - "Clean vs raw data separation with quality gates"
      - "Dataset versioning and replay foundation"
    modules:
      - module_id: "PA-M1"
        title: "Databento Foundation"
        status: "COMPLETE"
        tasks:
          - task_id: "PA-M1-T1"
            title: "Schema and ingestion"
            status: "COMPLETE"

  # ==========================================================================
  # PHASE B: INDICATOR PARITY (CONCEPTUAL)
  # ==========================================================================
  - phase_id: "P1"
    name: "Phase B — Indicator Parity (Conceptual)"
    objective: "Replicate TradingView indicator logic in Python for Databento data"
    status: "COMPLETE"
    deliverables:
      - "FVG/IFVG detector with 100% parity (Module 2)"
      - "Pivot detector (3-candle and 4-candle patterns)"
      - "HTF bias calculator (Module 3: Daily, 4H, 1H, 15M, 5M)"
      - "Signal generator with confirmation logic (Module 5)"
      - "Session filtering and cancellation state machine"
    modules:
      - module_id: "P1-M1"
        title: "Indicator Parity Modules 1-5"
        status: "COMPLETE"
        tasks:
          - task_id: "P1-M1-T1"
            title: "All modules complete"
            status: "COMPLETE"

  # ==========================================================================
  # PHASE C: HISTORICAL SIGNAL GENERATION (RAW) - CURRENT FOCUS
  # ==========================================================================
  - phase_id: "P2"
    name: "Phase C — Historical Signal Generation (RAW)"
    objective: "Databento-native bulk signal generation across full 15-year history"
    status: "IN_PROGRESS"
    description: "This is where the 15 years of Databento data are actually used. Generate all historical signals from 2010-2025 using Python indicator parity modules."
    deliverables:
      - "Historical signal schema with lifecycle tracking"
      - "Backfill engine processing full 15-year date range"
      - "Bulk signal generation from 5.25M Databento bars"
      - "Signal validation and quality metrics"
    modules:
      - module_id: "P2-M1"
        title: "Historical Signal Backfill"
        status: "IN_PROGRESS"
        tasks:
          - task_id: "P2-M1-T1"
            title: "Complete 15-year backfill"
            status: "IN_PROGRESS"

  # ==========================================================================
  # PHASE D: SIGNAL QUALITY & EXPECTANCY
  # ==========================================================================
  - phase_id: "P3"
    name: "Phase D — Signal Quality & Expectancy"
    objective: "Validate signal quality and compute expectancy metrics"
    status: "COMPLETE"
    description: "Quality validation, metrics computation, and expectancy analysis. NO real-time or live signals - historical analysis only."
    deliverables:
      - "Signal validity checks (valid_market_window)"
      - "Metrics computation (MFE/MAE from Databento)"
      - "Expectancy calculator and win rate analysis"
      - "Data Quality dashboard operational"
    modules:
      - module_id: "P3-M1"
        title: "Quality & Expectancy"
        status: "COMPLETE"
        tasks:
          - task_id: "P3-M1-T1"
            title: "Quality validation complete"
            status: "COMPLETE"

  # ==========================================================================
  # PHASE E: REGIME & TEMPORAL INTELLIGENCE
  # ==========================================================================
  - phase_id: "P4"
    name: "Phase E — Regime & Temporal Intelligence (V1)"
    objective: "Time-based analytics and basic regime detection"
    status: "COMPLETE"
    description: "Temporal Edge V1 complete. Full regime classification deferred to later phases."
    deliverables:
      - "Session transition sensitivity analysis"
      - "Time-to-1R and time-in-trade distributions"
      - "Signal age decay metrics"
      - "Temporal Edge V1 dashboard operational"
    modules:
      - module_id: "P4-M1"
        title: "Temporal Analytics V1"
        status: "COMPLETE"
        tasks:
          - task_id: "P4-M1-T1"
            title: "Temporal Edge V1 complete"
            status: "COMPLETE"

  # ==========================================================================
  # PHASE E.5: PRODUCTION READINESS & UX POLISH
  # ==========================================================================
  - phase_id: "P4.5"
    name: "Phase E.5 — Production Readiness & UX Polish"
    objective: "Prepare system for professional use with performance and clarity focus"
    status: "NOT_ENABLED"
    description: "Polish and performance only - no new features, signals, or analytics."
    deliverables:
      - "UI consistency across all dashboards"
      - "Table spacing, typography, and alignment standardised"
      - "Clear visual hierarchy (primary vs secondary metrics)"
      - "Simplification or removal of heavy visual effects"
      - "Page load and perceived performance optimisation"
      - "Explicit system state cues (current phase, valid data only)"
    rules:
      - "No new signals"
      - "No ML enhancements"
      - "No strategy changes"
      - "No backtesting additions"
      - "Presentation and performance only"
    ui_focus:
      video_backgrounds:
        action: "Remove or replace with static/lightweight assets"
        rationale: "Dashboards must prioritise clarity and performance over aesthetics"
        affected: ["Homepage", "Login page"]
      performance:
        target: "Fast load and low distraction"
        optimizations: ["Remove heavy animations", "Optimize asset loading", "Reduce bundle size"]
    modules:
      - module_id: "P4.5-M1"
        title: "UI/UX Polish"
        status: "PLANNED"
        tasks: []

  # ==========================================================================
  # PHASE F: STRATEGY CONSTRUCTION
  # ==========================================================================
  - phase_id: "P5"
    name: "Phase F — Strategy Construction"
    objective: "Strategy discovery and selection tools"
    status: "NOT_ENABLED"
    deliverables:
      - "Strategy parameter optimizer"
      - "Multi-strategy comparison engine"
      - "Strategy selection framework"
      - "Performance attribution analysis"
    modules: []

  # ==========================================================================
  # PHASE G: BACKTESTING & PORTFOLIO RISK
  # ==========================================================================
  - phase_id: "P6"
    name: "Phase G — Backtesting & Portfolio Risk"
    objective: "Comprehensive backtesting engine and risk management"
    status: "NOT_ENABLED"
    deliverables:
      - "Event-driven backtesting engine"
      - "Portfolio risk calculator"
      - "Monte Carlo simulation suite"
      - "Walk-forward optimization"
    modules: []

  # ==========================================================================
  # PHASE H: LIVE MARKET DATA & SIGNALS
  # ==========================================================================
  - phase_id: "P7"
    name: "Phase H — Live Market Data & Signals"
    objective: "Real-time market data and live signal generation"
    status: "NOT_ENABLED"
    deliverables:
      - "Databento live WebSocket client"
      - "Real-time signal generation"
      - "Live MFE tracking service"
      - "Real-time alert system"
    modules: []

  # ==========================================================================
  # PHASE I: EXECUTION & PROP FIRM SCALING
  # ==========================================================================
  - phase_id: "P8"
    name: "Phase I — Execution & Prop Firm Scaling"
    objective: "Trade execution and prop firm integration"
    status: "NOT_ENABLED"
    deliverables:
      - "Execution router operational"
      - "Prop firm connectors integrated"
      - "Risk engine with firm rules"
      - "Multi-account management"
    modules: []

  # ==========================================================================
  # PHASE J: COPY TRADING & OPERATIONS
  # ==========================================================================
  - phase_id: "P9"
    name: "Phase J — Copy Trading & Operations"
    objective: "Multi-account and operational tools"
    status: "NOT_ENABLED"
    deliverables:
      - "Copy trading engine"
      - "Multi-account dashboard"
      - "Operational alerting"
      - "Performance reporting"
    modules: []
